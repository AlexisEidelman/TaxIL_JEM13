\documentclass[xcolor=table,ignorenonframetext,12pt,handout]{beamer}
%\documentclass[xcolor=table,handout,12pt]{beamer}
\usepackage[frenchb]{babel}
\usepackage[latin1]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{pgfarrows,pgfnodes}
\usepackage{url}
\usepackage{textcomp}
\usepackage[vcentermath]{youngtab}
\usepackage{epstopdf}
\usepackage{hhline}
\usepackage{xmpmulti}
\usepackage{subfigure}
\usepackage{tikz}
\usepackage{multirow}

\mode<article> {
  \usepackage{fullpage}
  \usepackage{pgf}
  \usepackage{hyperref}
}
\newcommand{\til}{TaxIPP-Life}

\mode<presentation>

%\usetheme[left]{Goettingen}
%\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth]{ippheader.pdf}}
\setbeamertemplate{background canvas}{\hspace{10.1cm}\includegraphics
    [width=0.2\paperwidth]{logo_ipp.pdf}}
\definecolor{ippdark}{RGB}{0,93,116}
\definecolor{ipplight}{RGB}{0,142,156}
\useinnertheme[shadow=true]{rounded}
\setbeamertemplate{items}[circle]
\setbeamercolor{title}{bg=ipplight, fg=black}
\setbeamercolor{structure}{fg=ipplight}
%\setbeamertemplate{sidebar canvas left}{} % pour supprimer le fond de couleur de la barre latérale	
\setbeamertemplate{sidebar canvas left}[vertical shading][top=structure.fg!20,bottom=structure.fg!15]
\setbeamertemplate{caption}[numbered]
\setlength{\leftmargini}{12pt}
\setbeamerfont{framesubtitle}{size=\large}

%\usepackage[latin1]{inputenc}
%\usepackage[english]{babel}

\newenvironment{checklist}[1]{\begin{list}{$\surd$}{}#1}{\end{list}}%
\newcommand{\graphique}[2][1]{\begin{minipage}{\linewidth}\begin{center}\includegraphics[width=#1\linewidth,clip]{#2}\end{center}\end{minipage}}%
\newcommand{\os}[2]{\onslide+<#1->{#2}}%

\newcommand{\m}[2]{\multicolumn{#1}{c}{#2}}%
\newcommand{\ml}[2]{\multicolumn{#1}{l}{#2}}%
\newcommand{\tth}{\textsuperscript{th}}%
\newcommand{\nde}{\textsuperscript{nde}}
\newcommand{\hligne}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}\vspace{-0.8cm}}
\newcommand{\hlignee}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}}

% MTABLE: macro for tables %
\newenvironment{mfigure}[4][1]{\def\TMP{#3}\newdimen\TMPsize\settowidth{\TMPsize}{\TMP}
\begin{figure}\caption{#2}\begin{center}\begin{tiny}
\begin{minipage}{#1\textwidth}\resizebox{\textwidth}{!}{#3}\end{minipage}
\if!#4!\empty \else \\
\resizebox{#1\textwidth}{!}{\begin{minipage}{\TMPsize}\begin{tiny}\smallskip\par
#4 \end{tiny}\end{minipage}} \fi}
{\end{tiny}\end{center}\end{figure}}

\makeatletter
\def\TAXIPP{TAX\kern-.05em\lower-.19ex\hbox{${\color{BlueGreen} \scalebox{1.4}{\underarc[1]{\overarc[1]{\textcolor{black}{\scalebox{0.7}{ipp}}}}}}\hspace{0.5ex}$}\@}
\makeatother

\title{TAXIPP-LIFE microsimulation model\\ A life-cycle point of view}
\author{Alexis Eidelman}
\institute{\emph{Institut des politiques publiques}}
\subject{Redistribution ; microsimulation ; Life-Cycle}

\date{IFS informal seminar \\London -- 20th of June 2013}

\begin{document}

\frame{\maketitle}

\section*{Introduction}
\begin{frame}
\frametitle{Introduction}
\framesubtitle{\vspace{0.3cm}General overview of \til}
\begin{itemize}
	\item Dynamic microsimulation model développed by \textit{Institut des politiques publiques} (IPP)
	\item Ageing and legislation \pause
	\item Reforms
	\item \textbf{Work in progress} \pause
%\item \textbf{Importance de la perspective de cycle de vie}
%    \begin{enumerate}
%      \item Pour l'étude des niveaux de vie et des inégalités
%\item Pour l'étude de la redistribution opérée par les systèmes fiscalo-sociaux
%    \end{enumerate} \pause
%    \item \textbf{Structure du modèle}
%    \begin{itemize}
%    \item Données rétrospectives réellement observées
%    \item Simulation des trajectoires futures
%    \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Roadmap}
  \tableofcontents[hideothersubsections] 
\end{frame} 

\begin{frame}
\frametitle{Roadmap}
%  \framesubtitle{\vspace{0.3cm}Plan}
\begin{enumerate}
	\item Why to be interested in Life-Cycle ? 
	\item Some issues of a dynamic microsimulation model
	\item How \til \ simulate for now
	\item Becoming of \til
\end{enumerate}
\end{frame}

\section{Why to be interested in Life-Cycle ?}
\subsection{Inequalities}
\begin{frame}
\frametitle{Roadmap}
  \tableofcontents[currentsection, hideothersubsections] 
\end{frame} 

\begin{frame}
\frametitle{Why to be interested in Life-Cycle ?}
\framesubtitle{\vspace{0.3cm} Evaluation inequalities} \pause
\begin{itemize}
	\item Annual income doesn't measure utility (or living standard)
		\begin{enumerate}
		\item Income chocks (plus value, unemplyement, child care, bad harvest)
		\item Different period of life (studies, retirement)
		\item Wealth (and inheritance) can't be ignored
		\end{enumerate}
	On administrative (Swedish) data, it was measured that 40\% \ of Gini-inequlities are intra-personnal. 
\end{itemize}
\end{frame}

\subsection{Redistribution}

\begin{frame}
\frametitle{Why to be interested in Life-Cycle ?}
\begin{enumerate}
\item Who is rich and who is poor ?
\item Who does give money to whom ?
\end{enumerate}
\end{frame}

\begin{frame}
\frametitle{Why to be interested in Life-Cycle ?}
\framesubtitle{\vspace{0.3cm} Redistribution} 
\begin{itemize}
	\item People may contribute and benefit from the tax and benefit system at different periods. \\
	
	 \ House benefit for students (or others state services) \pause
	\item Assurance issue
		\begin{enumerate}
		\item unemployment benefit, health care, pension system
		\item Forced consumption? \\	
		\ 	$\longrightarrow$ no redistribution
		\item But a contribution may not equal risk expectancy \\
		\	$\longrightarrow$ redistribution
	\end{enumerate}
\end{itemize}
\end{frame} 


\begin{frame}
\frametitle{Why to be interested in Life-Cycle ?}
\framesubtitle{\vspace{0.3cm} Redistribution} 
\begin{itemize}
\item \textbf{Two extreme cases}
	\begin{itemize}
	\item People with same income during their whole life \\
	$\Rightarrow$ Redistribution between people \pause
	\item Same individuals with variation in income but born at different times \\
	$\Rightarrow$ Redistribution "within" people only \\
	(Useless if credit and assurance market are perfect)
	\end{itemize}
\end{itemize} \pause
 \footnotesize
\begin{table}	
\caption{Share of within redistribution in whole redistribution}
 \begin{tabular}{|c|c|c|}
\hline
Pettersson et Pettersson (2007) &      Sweden &  18-32 \% \\
\hline
Hussenius et Selen (1994) &      Sweden &  24-32 \% \\
\hline
Falkingham et Harding (1996) &  Australia &  48-63 \% \\
\hline
Falkingham et Harding (1996) & United-Kingdom &  29-38 \% \\
\hline
O'Donoghue &    Ireland &     45 \% \\
\hline
O'Donoghue &     Italy &     24 \% \\
\hline
\end{tabular}
\end{table}
\end{frame}

\subsection{Particular fields}
\begin{frame}
\frametitle{Why to be interested in Life-Cycle ?}
\framesubtitle{\vspace{0.3cm} Particular fields} 
\begin{itemize}
	\item A life-cycle perspective is unavoidable when careers is a major point   \\
	\	$\longrightarrow$ pension, educational choice
	\item Can add very interesting point in particular when demography is at stake. \\
	\	$\longrightarrow$ Female labour, health (end of life)	
\end{itemize}
The aim of \til \ is to be as general as possible and not focused on a specific topic.

\end{frame} 

\subsection{Getting more general}

\begin{frame}
\frametitle{Why to be interested in Life-Cycle ?}
\framesubtitle{\vspace{0.3cm}Getting more general } 
\begin{itemize}
	\item Enable to study reform at upper level
	 \begin{itemize}
		\item Impact of pension reform on age departure and educational choice
		\item Impact of health on (maison de retraite) and on house pricing (and housing benefits)
	 \end{itemize}
	\item Objective to have a complete economic informations on people 
	\item Requires an organisation and some organisation	
\end{itemize}
\end{frame} 



\section{Some issues for a dynamic microsimulation model}

\begin{frame}
\frametitle{Roadmap}
  \tableofcontents[currentsection, hideothersubsections] 
\end{frame} 


\subsection{Data}
\begin{frame}
\frametitle{Data}
\begin{itemize}
\item \textbf{Issue: } To know people's past and on carreers (administrative data) and on marital status (survey data).
\item \textbf{How \til \ deals with:}  \pause
	\begin{itemize}
	\item Wealth survey
	\item Administrative data (pension)
	\item Statistical matching 
	\begin{itemize}
	\item  Exact matching on sex, age, kind of work
	\item  Distance for income in 2009
	\item  Optimal matching for carreer(replacement, insertion, deletion cost)\\
	$\longrightarrow$ closest neighbourg
	\end{itemize}	
	\item Survey closure
	\end{itemize}
\item \textbf{How to get better: }
	\begin{itemize}
	\item Other surveys (Health survey)
	\item Joint selection for parents
	\end{itemize}
\end{itemize}
\end{frame}

\subsection{Survey weight}
\begin{frame}
\frametitle{Survey weight}
\begin{itemize}
\item \textbf{Issue: } Links between people change in a dynamic simulation. How link two individuals with different weight.
\item \textbf{How \til \ deals with:}  \pause
	\begin{itemize}
	  \item Work with uniform weight
	  \item Replication according to weight
	  \item Increase variability
	  \item No real other option
	\end{itemize}
\item \textbf{How to get better: }
	\begin{itemize}
	\item Smallest weight in wealth survey is 6 ! \\
	$\rightarrow$ 11 millions individuals
	\item  200 is our constant weight insted of 6  \\
	$\rightarrow$ 300 000 individuals \\
	\item Go further in survey size
	\end{itemize}
\end{itemize}
\end{frame}

\subsection{Time scale}
\begin{frame}
\frametitle{Time scale}
\begin{itemize}
\item \textbf{Issue: } A trade-off between precision and calculus time.
\item \textbf{How \til \ deals with:}  \pause
	\begin{itemize}
	\item So far : annual scale
	\item Possibility to run some process on a longer basis
	\end{itemize}
\item \textbf{How to get better: }
	\begin{itemize}
	\item Month scale
	\item ...or at least trim scale
	\item Simulate durations more than transitions
	\end{itemize}
\end{itemize}
\end{frame}

\subsection{Marriage}
\begin{frame}
\frametitle{Marriage}
\begin{itemize}
\item \textbf{Issue: } Marry people with verifying a given joint distribution of caracteristics. A trade-off between optimality and computational intensity.
\item \textbf{How \til \ deals with:}  \pause
	\begin{itemize}
	\item no marriage market
	\item Distance between people
	\item Minimization Algorithm
	\end{itemize}
\item \textbf{How to get better: }
	\begin{itemize}
	\item Improve minimisation algorithm (Hungarian method)
	\item Randomly select some potential match and run the optimisation on that subset
	\end{itemize}
\end{itemize}
\end{frame}

\subsection{Individualisation}
\begin{frame}
\frametitle{Individualisation}
\begin{itemize}
\item \textbf{Issue: } In a life-cycle point of view, the lonely pertinent entitiy is the individual. But living standards, benefits and sometimes taxes are calculated at a bigger level (household, couple, family). How individualize?
\item \textbf{How \til \ deals with:}  \pause
\begin{itemize}
\item L'impôt sur le revenu est séparé entre déclarant et conjoint...
\item sauf l'avantage lié au quotient familial qui est réparti entre les personnes à charge.
\item Les prestations familiales sont réparties entre les enfants
\item Les autres prestations sont réparties entre les personnes du ménage.
\end{itemize}
\item \textbf{How to get better: }
\begin{itemize}
\item Séparer l'IR au prorata des revenus mais...
\item ...la bonne solution c'est le recours à la valeur de Shapley.
\end{itemize}
\end{itemize}
\end{frame}

\subsection{Alignement}
\begin{frame}

\frametitle{VI. Alignement}
\begin{itemize}
\item \textbf{Issue: } Le nombre d'événements (de décès par exemple) prédits par le tirage d'une variable binaire est trop volatil.\\
Comment maîtriser le nombre d'occurrences ?
\item \textbf{How \til \ deals with:}  \pause
\begin{itemize}
\item Utilisation d'une méthode implémentée dans Liam2 (voir Li et O'Donoghue 2012)
\end{itemize}
\item \textbf{How to get better: }
\begin{itemize}
\item Tester les différentes méthodes d'alignement.
\end{itemize}
\end{itemize}
\end{frame}


\subsection{Progammation language}

\begin{frame}[plain,t]
\frametitle{Athlete struggling with a python}
\begin{center}
\includegraphics[0.8]{struggling_with_Python.jpg}
\end{center}
\end{frame}

\section{How \til \ simulate for now}
\begin{frame}
\frametitle{Roadmap}
  \tableofcontents[currentsection, hideothersubsections] 
\end{frame} 

\begin{frame}

  \frametitle{2. Présentation du modèle}
  \framesubtitle{\vspace{0.3cm}}
  \begin{itemize}
    \item I. Le langage de programmation
    \item II. Les entités et les liens.
    \item III. Les étapes de la simulation
  \end{itemize}
\end{frame}
%
\subsection{Langage de programmation}
\begin{frame}

  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item \textbf{Langages utilisés}
    \begin{itemize}
    \item Traitement initial des données en R
    \item Utilisation principale de Python
    \item Interface texte agréable (YAML)
    \end{itemize}
     \item \textbf{Pourquoi Python} ?\pause
    \begin{itemize}
    	\item Langage clair.
    	\item Possibilité d'avoir plusieurs niveaux de lecture.
		\item Performances très intéressantes	
    \end{itemize}
	\item Un choix fait par Liam2 et OpenFisca.
	\item Simulation \ 30 000 individus : \  6 s/période
	\item Simulation sur 300 000 individus : 70 s/période
  \end{itemize}
\end{frame}


%\begin{frame}
%  \hligne
%  \frametitle{I. Langage de programmation}
%  \framesubtitle{\vspace{0.3cm}Organisation}
%	Mettre une image de YAML.
%	Un exemple de code.
%\end{frame}
\subsection{Les entités et les liens}
\begin{frame}

  \frametitle{II. Les entités et les liens.}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item \textbf{Les entités} \\
  4 entités (dont non indispensable), et un \textbf{registre}
    \begin{itemize}
    \item Individus
    \item Logement
    \item Déclaration fiscale
    \item Entreprise
    \end{itemize}
     \item \textbf{Les liens}
    \begin{itemize}
    	\item Lien entre individus : conjoint et parents.
    	\item Lien des individus vers les entités auxquelles ils appartiennent
   		\item Lien des entités vers les individus auxquels elles appartiennent
    \end{itemize}
  \end{itemize}
\end{frame}


\subsection{Les étapes de la simulation}
\subsubsection{Démographie}

\begin{frame}

  \frametitle{III. Les étapes de la simulation}
  \framesubtitle{Démographie - 1}
  \begin{itemize}
  	\item Naissance \\
  	\begin{itemize}
  	\item Femme en couple, alignement sur des naissances par âge.
  	\item Pas de lien avec les études, ni les enfants précédents
  	\end{itemize}
  	\item Indépendance
  	\begin{itemize}
  	\item Systématique en fonction de l'âge.
  	\item Pas d'autre type de déménagement
  	\end{itemize}
  \end{itemize}
\end{frame}
  	
  	
\begin{frame}

  \frametitle{III. Les étapes de la simulation}
   \framesubtitle{Démographie - 2}
  \begin{itemize}
  	\item Unions \\
  	\begin{itemize}
  	\item Inspirées des équations de Destinie
  	\item Probabilité d'union en fonction de l'âge, de la fin des études, de la date depuis la séparation et du nombre d'enfants
  	\item Formation des unions en fonction des âges et du niveau d'études
  	\item Les enfants suivent leur parent (pour le logement ou la déclaration)
  	\end{itemize}
  	\item Séparations
  	\begin{itemize}
  	\item Probabilité en fonction de la durée du couple, du nombre d'enfants et de la différence d'âge.
  	\item Les enfants sont affectés aléatoirement au père ou à la mère
  	\end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}

  \frametitle{III. Les étapes de la simulation}
   \framesubtitle{Démographie - 3}
  \begin{itemize}
  	\item Décès \\
  	\begin{itemize}
  	\item Alignement en fonction de l'âge et du sexe
  	\item Pas de prise en compte des revenus ou du diplôme.
  	\item \textbf{Héritage} (y compris de deuxième rang)
  	\item Droit de succession (en cours)
  	\item Pas d'accident de voiture...
  	\end{itemize}
  \end{itemize}
\end{frame}

\subsubsection{Activité}
\begin{frame}

  \frametitle{III. Les étapes de la simulation}
   \framesubtitle{Activité}
  \begin{itemize}
	\item Éducation
  	\begin{itemize}
  	\item Détermination à la naissance en fonction des parents.
  	\item Niveau (rudimentaire) lié à l'âge
  	\end{itemize}
  	\item Marché du travail
  	\begin{itemize}
  	\item Équation simplifiée et alignement grossier
  	\item Salaire en fonction d'une équation de Mincer...
  	\item ... et d'une productivité observée ou imputée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire
	\item Lien avec PENSIPP
  	\end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}

  \frametitle{III. Les étapes de la simulation}
   \framesubtitle{Revenus}
  \begin{itemize}
  	\item Actifs occupés
  	\begin{itemize}
  	\item Salaire en fonction d'une équation de Mincer...
  	\item ... et d'une productivité plus ou moins observée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire
	\item Utilisation de PENSIPP pour cette partie
  	\end{itemize}
  	\item Chômage
  	\begin{itemize}
  	\item Calcul implémenté...
  	\item ...mais le pas de la simulation est une limite
  	\end{itemize}
  \end{itemize}
\end{frame}


\subsubsection{Consommation et épargne}
\begin{frame}

  \frametitle{III. Les étapes de la simulation}
   \framesubtitle{Consommation et épargne}
  \begin{itemize}
	\item De nouvelles estimations à produire
	 \begin{itemize}
  	\item en tenant compte du cycle de vie
  	\item en essayant de rester au niveau individuel
  	\end{itemize}
  \end{itemize}
\end{frame}

%\subsubsection{Développements futurs}
%\begin{frame}
%  \hligne
%  \frametitle{III. Les étapes de la simulation - activité }
%  \begin{itemize}
%	\item Il y a encore beaucoup de champs qui pourrait être travaillés
%  	\begin{itemize}
%	\item Santé et dépendance
%	\item Mode de garde
%	\item Choix d'éducation
%  	\end{itemize}
%  \end{itemize}
%\end{frame}


\section{Becoming of \til}
\begin{frame}
\frametitle{Roadmap}
  \tableofcontents[currentsection, hideothersubsections] 
\end{frame} 

\begin{frame}

  \frametitle{3. Développements}
  \framesubtitle{\vspace{0.3cm}Temps figé}
  \begin{itemize}
  \item Un temps figé en 2009
    \begin{itemize}
	\item Pas de croissance (ou de tendance)
	\item Revalorisation des revenus passés
	\item La législation de 2009 est appliquée tous les ans
  \end{itemize}
  \item Ne simule pas encore les trajectoires matrimoniales dans le passé (en cours).
  \end{itemize}
\end{frame}

 \begin{frame}

  \frametitle{3. Développements}
  \framesubtitle{\vspace{0.3cm} Réponse comportementale}
  \begin{itemize}
  \item On peut appliquer la législation et une réforme \textit{ex post}
  \item En appliquant la législation à chaque période on a aussi des réactions comportementales.
   \item Il reste à rendre possible le modèle de décision.
  \end{itemize}
\end{frame}
%
% \begin{frame}
%  \hligne
%
%  \hligne
%  \frametitle{III. Production actuelle et potentielle}
%  \framesubtitle{\vspace{0.3cm} Quelques chiffres}
%    \begin{itemize}
%  \item Le revenu moyen par an par individu est :
%  \item Le niveau de vie en moyenne sur la vie calculé par l'Insee est :
%   \item En regardant au niveau des enfants, on gagne tant...
%   \item En moyenne tant d'impot et tant de prestation
%   \item La retraite.
%  \end{itemize}
% \end{frame}



\section*{Motivations - Conclusion}

\begin{frame}

  \frametitle{Conclusion}
  \framesubtitle{\vspace{0.3cm} Pourquoi faire des simulations sur le cycle de vie ?}
  \begin{itemize}
    \item  mesure d'un \og meilleur \fg \ niveau de vie
        \begin{itemize}
          \item Variabilité des revenus
          \item Équité dans le traitement des individus vis-à-vis de leur âge.
          \item Prise en compte du patrimoine
        \end{itemize}
    \item Possibilité d'arbitrer entre part assurantielle et part redistributive des transferts
    \item Capacité de prédiction
  \end{itemize}
\end{frame}

\frame{\maketitle}

\end{document}
