\documentclass[xcolor=table,ignorenonframetext,12pt]{beamer}% , handout
%\documentclass[xcolor=table,handout,12pt]{beamer}
%\usepackage[frenchb]{babel}
\usepackage[latin1]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{pgfarrows,pgfnodes}
\usepackage{url}
\usepackage{textcomp}
\usepackage[vcentermath]{youngtab}
\usepackage{epstopdf}
\usepackage{hhline}
\usepackage{xmpmulti}
\usepackage{subfigure}
\usepackage{tikz}

\mode<article> {
  \usepackage{fullpage}
  \usepackage{pgf}
  \usepackage{hyperref}
}
\newcommand{\til}{TaxIPP-Life}

\mode<presentation>

\usetheme[left]{Goettingen}
%\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth]{ippheader.pdf}}
\setbeamertemplate{background canvas}{\hspace{10.1cm}\includegraphics
    [width=0.2\paperwidth]{logo_ipp.pdf}}
\definecolor{ippdark}{RGB}{0,93,116}
\definecolor{ipplight}{RGB}{0,142,156}
\useinnertheme[shadow=true]{rounded}
\setbeamertemplate{items}[circle]
\setbeamercolor{title}{bg=ipplight, fg=black}
\setbeamercolor{structure}{fg=ipplight}
%\setbeamertemplate{sidebar canvas left}{} % pour supprimer le fond de couleur de la barre latérale	
\setbeamertemplate{sidebar canvas left}[vertical shading][top=structure.fg!20,bottom=structure.fg!15]
\setbeamertemplate{caption}[numbered]
\setlength{\leftmargini}{12pt}
\setbeamerfont{framesubtitle}{size=\large}

%\usepackage[latin1]{inputenc}
%\usepackage[english]{babel}

\newenvironment{checklist}[1]{\begin{list}{$\surd$}{}#1}{\end{list}}%
\newcommand{\graphique}[2][1]{\begin{minipage}{\linewidth}\begin{center}\includegraphics[width=#1\linewidth,clip]{#2}\end{center}\end{minipage}}%
\newcommand{\os}[2]{\onslide+<#1->{#2}}%

\newcommand{\m}[2]{\multicolumn{#1}{c}{#2}}%
\newcommand{\ml}[2]{\multicolumn{#1}{l}{#2}}%
\newcommand{\tth}{\textsuperscript{th}}%
\newcommand{\nde}{\textsuperscript{nde}}
\newcommand{\hligne}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}\vspace{-0.8cm}}
\newcommand{\hlignee}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}}

% MTABLE: macro for tables %
\newenvironment{mfigure}[4][1]{\def\TMP{#3}\newdimen\TMPsize\settowidth{\TMPsize}{\TMP}
\begin{figure}\caption{#2}\begin{center}\begin{tiny}
\begin{minipage}{#1\textwidth}\resizebox{\textwidth}{!}{#3}\end{minipage}
\if!#4!\empty \else \\
\resizebox{#1\textwidth}{!}{\begin{minipage}{\TMPsize}\begin{tiny}\smallskip\par
#4 \end{tiny}\end{minipage}} \fi}
{\end{tiny}\end{center}\end{figure}}

\makeatletter
\def\TAXIPP{TAX\kern-.05em\lower-.19ex\hbox{${\color{BlueGreen} \scalebox{1.4}{\underarc[1]{\overarc[1]{\textcolor{black}{\scalebox{0.7}{ipp}}}}}}\hspace{0.5ex}$}\@}
\makeatother

\title{Know all about Life Cycle \\ The \til \ model}
\author{ Alexis Eidelman}
\institute{\emph{Institut des politiques publiques}}
\subject{PSE - microsimulation}

\date{Expériences et perspectives de la micro-simulation \\Montreuil -- 23 mai 2013}

\begin{document}

\begin{frame}
  \hligne
  \frametitle{Plan intermédiaire}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item I. Difficultés spécifiques à la microsimulation dynamique
    \item II. Présentation du modèle
    \item III. Développements
  \end{enumerate}
\end{frame}

\section{I. Difficultés spécifiques à la microsimulation dynamique}

\begin{frame}
  \hligne
  \frametitle{I. Difficultés spécifiques à la microsimulation dynamique}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item[I.] Sources d'information
    \item[II.] Formation des unions
    \item[III.] Pondérations
    \item[IV.] Individualisation des transferts
    \item[V.] Le choix du pas temporel
    \item[VI.] Alignement
  \end{enumerate}
\end{frame}

\subsection{Source d'information}
\begin{frame}
  \hligne
  \frametitle{I. Source d'information}
  \begin{itemize}
    \item \textbf{Le problème : } Connaître le passé précisément et avoir autant d'éléments que possible sur le futur.
    \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Utilisation de l'enquête patrimoine
      \item Enrichissement par un appariement avec l'EIR-EIC
      \item Fermeture de l'échantillon
      \item Utilisation de différentes études pour les équations de simulations
    \end{itemize}
    \item \textbf{Ce qu'on pourrait faire de mieux : }
    \begin{itemize}
    \item Utiliser d'autres enquêtes comme SIP
    \item Améliorer les simulations (avec de la validation)
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Formation des unions}
\begin{frame}
  \hligne
  \frametitle{II. Formation des unions}
  \begin{itemize}
    \item \textbf{Le problème : } unir des individus en respectant les caractéristiques jointes.
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Distance entre conjoints (pas une préférence)
      \item Algorithme de minimisation
    \end{itemize}
    \item \textbf{Ce qu'on pourrait faire de mieux : }
    \begin{itemize}
    \item Améliorer l'algorithme de minimisation (méthode hongroise)
    \item Faire un tirage aléatoire de conjoints potentiel et sélectionner parmi eux.
    \end{itemize}
  \end{itemize}
\end{frame}



\subsection{Pondérations}
\begin{frame}
  \hligne
  \frametitle{III. Pondérations}
  \begin{itemize}
    \item \textbf{Le problème : } En simulation dynamique, les liens entre individus changent. Comment relier deux individus de pondérations différentes ?
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Travail avec une pondération uniforme
      \item Duplication des individus selon leur pondération 
    \end{itemize}
    \item \textbf{Ce qu'on pourrait faire de mieux : }
    \begin{itemize}
    \item La plus petite pondération de l'enquête patrimoine est 6 ! \\
    $\rightarrow$ 11 millions d'individus
    \item  200 comme pondération uniforme et non 6  \\
    $\rightarrow$ 300 000 individus \\
    \item Augmenter la taille de l'échantillon
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Individualisation des transferts}
\begin{frame}
  \hligne
  \frametitle{IV. Individualisation des transferts}
  \begin{itemize}
    \item \textbf{Le problème : } L'unité d'étude ne peut plus être un ménage ou un foyer fiscal mais seulement un individu. Comment individualiser les transferts ?
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item L'impot sur le revenu est séparé entre déclarant et conjoint...
      \item sauf l'avantage lié au quotient familial qui est réparti entre les personnes à charge.
      \item Les prestations familiales sont réparties entre les enfants
      \item Les autres prestations sont réparties entre les personnes du ménage.
    \end{itemize}
    \item \textbf{Ce qu'on pourrait faire de mieux : }
    \begin{itemize}
    \item Séparer l'IR au prorata des revenus mais...
    \item ...la bonne solution c'est le recours à la valeur de Shapley.
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Le pas temporel}
\begin{frame}
  \hligne
  \frametitle{V. Le choix du pas temporel}
  \begin{itemize}
    \item \textbf{Le problème : } Un trade-off entre précision et temps de simulation.
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Pour l'instant : pas annuel
      \item Possibilité de ne faire tourner certains éléments qu'à certaines périodes
    \end{itemize}
    \item \textbf{Ce qu'on pourrait faire de mieux : }
    \begin{itemize}
    \item Pas mensuel
    \item ...ou au moins trimestriel
    \item automatiser les paramètres en fonction du pas.
    \item Simuler des durées plutôt que des événements ? 
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Alignement}
\begin{frame}
  \hligne
  \frametitle{VI. Alignement}
  \begin{itemize}
    \item \textbf{Le problème : } Le nombre d'événements (de décès par exemple) prédits par le tirage d'une variable binaire est trop volatile.\\
    Comment maitriser le nombre d'occurrences ?
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Utilisation d'une méthode implémentée dans Liam2 (voir Li et O'Donoghue 2012)
    \end{itemize}
    \item \textbf{Ce qu'on pourrait faire de mieux : }
    \begin{itemize}
    \item Tester les différentes méthodes d'alignement.
    \end{itemize}
  \end{itemize}
\end{frame}


\section{II. Présentation du modèle}

\begin{frame}
  \hligne
  \frametitle{II. Présentation du modèle}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item Le langage de programmation
    \item Les entités et les liens.
    \item Les étapes de la simulation
  \end{enumerate}
\end{frame}
%
\subsection{Langage de programmation}
\begin{frame}
  \hligne
  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item \textbf{Langages utilisés}
    \begin{itemize}
    \item Traitement initial des données en R
    \item Utilisation principale de Python
    \item Interface texte agréable (YAML)
    \end{itemize} 
     \item \textbf{Pourquoi Python} ?\pause
    \begin{itemize}
    	\item Langage clair. 
    	\item Possibilité d'avoir plusieurs niveaux de lecture.
		\item Performances très intéressantes	
    \end{itemize} 
	\item Un choix fait par Liam2 et OpenFisca.
	\item Simulation \ 30 000 individus : \  6 s/période 
	\item Simulation sur 300 000 individus : 70 s/période 
  \end{itemize}
\end{frame}


%\begin{frame}
%  \hligne
%  \frametitle{I. Langage de programmation}
%  \framesubtitle{\vspace{0.3cm}Organisation}
%	Mettre une image de YAML. 
%	Un exemple de code. 
%\end{frame}
\subsection{Les entités et les liens.}
\begin{frame}
  \hligne
  \frametitle{II. Les entités et les liens.}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item \textbf{Les entités} \\
  4 entités (dont non indispensable), et un \textbf{registre}
    \begin{itemize}
    \item Individus
    \item Logement
    \item Déclaration fiscale
    \item Entreprise
    \end{itemize} 
     \item \textbf{Les liens}
    \begin{itemize}
    	\item Lien entre individus : conjoint et parents. 
    	\item Lien des individus vers les entités auxquelles ils appartiennent
   		\item Lien des entités vers les individus auxquels elles appartiennent
    \end{itemize} 
  \end{itemize}
\end{frame}


\subsection{Les étapes de la simulation}
\subsubsection{Démographie}

\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - Démographie - 1}
  \begin{itemize}
  	\item Naissance \\
  	\begin{itemize}
  	\item Femme en couple, alignement sur des naissances par âge.
  	\item Pas de lien avec les études, ni les enfants précédents
  	\end{itemize}
  	\item Indépendance
  	\begin{itemize}
  	\item Systématique en fonction de l'âge.
  	\item Pas d'autre type de déménagement
  	\end{itemize} 
  \end{itemize} 
\end{frame}
  	
  	
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation \\ Démographie - 2}
  \begin{itemize}
  	\item Unions \\
  	\begin{itemize}
  	\item Inspirées des équations de Destinie
  	\item Probabilité d'union en fonction de l'âge, de la fin des études, de la date depuis la séparation et du nombre d'enfant
  	\item Formation des unions en fonction des âges et du niveau d'études
  	\item Les enfants suivent leur parent (pour le logement ou la déclaration)
  	\end{itemize}
  	\item Séparations
  	\begin{itemize}
  	\item Probabilité en fonction de la durée du couple, du nombre d'enfant et de la différence d'âge. 
  	\item Les enfants sont affectés aléatoirement aux pères ou à la mère
  	\end{itemize}
  \end{itemize} 
\end{frame}


\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation \\ Démographie - 3}
  \begin{itemize}
  	\item Décès \\
  	\begin{itemize}
  	\item Alignement en fonction de l'âge et du sexe
  	\item Pas de prise en compte des revenus ou du diplôme.
  	\item \textbf{Héritage} (y compris de deuxième rang)
  	\item Droit de succession (en cours)
  	\item Pas d'accident de voiture...
  	\end{itemize}
  \end{itemize} 
\end{frame}
  
\subsubsection{Activité}
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - \\ Activité }
  \begin{itemize}
	\item Éducation
  	\begin{itemize}
  	\item Détermination à la naissance en fonction des parents.
  	\item Niveau (rudimentaire) lié à l'âge
  	\end{itemize}
  	\item Marché du travail
  	\begin{itemize}
  	\item Équation simplifiée et alignement grossier
  	\item Salaire en fonction d'une équation de Mincer... 
  	\item ... et d'une productivité observée ou imputée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite 
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire  
	\item Lien avec PENSIPP
  	\end{itemize}
  \end{itemize} 
\end{frame}  
  
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation \\ Revenus }
  \begin{itemize}
  	\item Actifs occupés
  	\begin{itemize}
  	\item Salaire en fonction d'une équation de Mincer... 
  	\item ... et d'une productivité plus ou moins observée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite 
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire  
	\item Utilisation de PENSIPP pour cette partie (?)
  	\end{itemize}
  	\item Chômage 
  	\begin{itemize}
  	\item Calcul implémenté...
  	\item ...mais le pas de la simulation est une limite  
  	\end{itemize}
  \end{itemize} 
\end{frame}    
  
 
\subsubsection{Consommation et épargne}
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation \\ Consommation et épargne }
  \begin{itemize}
	\item De nouvelles estimations à produire
	 \begin{itemize}
  	\item en tenant compte du cycle de vie
  	\item en essayant de rester au niveau individuel 
  	\end{itemize}
  \end{itemize} 
\end{frame}  

%\subsubsection{Développements futurs}
%\begin{frame}
%  \hligne
%  \frametitle{III. Les étapes de la simulation - activité }
%  \begin{itemize}
%	\item Il y a encore beaucoup de champs qui pourrait être travaillés
%  	\begin{itemize}
%	\item Santé et dépendance
%	\item Mode de garde
%	\item Choix d'éducation
%  	\end{itemize} 
%  \end{itemize} 
%\end{frame} 


\section{III. Développements}

\begin{frame}
  \hligne
  \frametitle{III. Développements}
  \framesubtitle{\vspace{0.3cm}Temps figé}
  \begin{itemize}
  \item Un temps figé en 2009
    \begin{itemize}
	\item Pas de croissance (ou de tendance)
	\item Revalorisation des revenus passés
	\item La législation de 2009 est appliquée tous les ans
  \end{itemize} 
  \item Ne simule pas encore les trajectoires matrimoniale dans le passé (en cours).
  \end{itemize}
\end{frame}  

 \begin{frame}
  \hligne
  \frametitle{III. Développements}
  \framesubtitle{\vspace{0.3cm} Réponse comportementale}
  \begin{itemize}
  \item On peut appliquer la législation et une réforme \textit{ex post}
  \item En appliquant la législation à chaque période on a aussi des réactions comportementales.
   \item Il reste à rendre possible le modèle de décision.
  \end{itemize}
\end{frame}  
% 
% \begin{frame}
%  \hligne
%  
%  \hligne
%  \frametitle{III. Production actuelle et potentielle}
%  \framesubtitle{\vspace{0.3cm} Quelques chiffres}
%    \begin{itemize}
%  \item Le revenu moyen par an par individu est : 
%  \item Le niveau de vie en moyenne sur la vie calculé par l'Insee est : 
%   \item En regardant au niveau des enfants, on gagne tant...
%   \item En moyenne tant d'impot et tant de prestation
%   \item La retraite.
%  \end{itemize}
% \end{frame}   

 

\section{Motivations - Conclusion}

\begin{frame}
  \hligne
  \frametitle{Introduction}
  \framesubtitle{\vspace{0.3cm} Pourquoi faire des simulations sur le cycle de vie ?}
  \begin{itemize}
    \item  mesure d'un "meilleur" \ niveau de vie
%        \begin{itemize}
%          \item Variabilité des revenus
%          \item Équité dans le traitement des individus vis-à-vis de leur âge. 
%          \item Prise en compte du patrimoine
%        \end{itemize}
    \item Possibilité d'arbitrer entre part assurantielle et part redistributive des transferts
    \item Capacité de prédiction
  \end{itemize}
\end{frame}

\end{document}
