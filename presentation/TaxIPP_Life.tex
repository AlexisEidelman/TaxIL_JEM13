\documentclass[xcolor=table,ignorenonframetext,12pt]{beamer}
%\documentclass[xcolor=table,handout,12pt]{beamer}
\usepackage[frenchb]{babel}
\usepackage[latin1]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{pgfarrows,pgfnodes}
\usepackage{url}
\usepackage{textcomp}
\usepackage[vcentermath]{youngtab}
\usepackage{epstopdf}
\usepackage{hhline}
\usepackage{xmpmulti}
\usepackage{subfigure}
\usepackage{tikz}

\mode<article> {
  \usepackage{fullpage}
  \usepackage{pgf}
  \usepackage{hyperref}
}
\newcommand{\til}{TaxIPP-Life}

\mode<presentation>

\usetheme[left]{Goettingen}
%\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth]{ippheader.pdf}}
\setbeamertemplate{background canvas}{\hspace{10.1cm}\includegraphics
    [width=0.2\paperwidth]{logo_ipp.pdf}}
\definecolor{ippdark}{RGB}{0,93,116}
\definecolor{ipplight}{RGB}{0,142,156}
\useinnertheme[shadow=true]{rounded}
\setbeamertemplate{items}[circle]
\setbeamercolor{title}{bg=ipplight, fg=black}
\setbeamercolor{structure}{fg=ipplight}
%\setbeamertemplate{sidebar canvas left}{} % pour supprimer le fond de couleur de la barre latérale	
\setbeamertemplate{sidebar canvas left}[vertical shading][top=structure.fg!20,bottom=structure.fg!15]
\setbeamertemplate{caption}[numbered]
\setlength{\leftmargini}{12pt}
\setbeamerfont{framesubtitle}{size=\large}

%\usepackage[latin1]{inputenc}
%\usepackage[english]{babel}

\newenvironment{checklist}[1]{\begin{list}{$\surd$}{}#1}{\end{list}}%
\newcommand{\graphique}[2][1]{\begin{minipage}{\linewidth}\begin{center}\includegraphics[width=#1\linewidth,clip]{#2}\end{center}\end{minipage}}%
\newcommand{\os}[2]{\onslide+<#1->{#2}}%

\newcommand{\m}[2]{\multicolumn{#1}{c}{#2}}%
\newcommand{\ml}[2]{\multicolumn{#1}{l}{#2}}%
\newcommand{\tth}{\textsuperscript{th}}%
\newcommand{\nde}{\textsuperscript{nde}}
\newcommand{\hligne}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}\vspace{-0.8cm}}
\newcommand{\hlignee}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}}

% MTABLE: macro for tables %
\newenvironment{mfigure}[4][1]{\def\TMP{#3}\newdimen\TMPsize\settowidth{\TMPsize}{\TMP}
\begin{figure}\caption{#2}\begin{center}\begin{tiny}
\begin{minipage}{#1\textwidth}\resizebox{\textwidth}{!}{#3}\end{minipage}
\if!#4!\empty \else \\
\resizebox{#1\textwidth}{!}{\begin{minipage}{\TMPsize}\begin{tiny}\smallskip\par
#4 \end{tiny}\end{minipage}} \fi}
{\end{tiny}\end{center}\end{figure}}

\makeatletter
\def\TAXIPP{TAX\kern-.05em\lower-.19ex\hbox{${\color{BlueGreen} \scalebox{1.4}{\underarc[1]{\overarc[1]{\textcolor{black}{\scalebox{0.7}{ipp}}}}}}\hspace{0.5ex}$}\@}
\makeatother

\title{Simuler le cycle de vie\\ Le modèle \til}
\author{Alexis Eidelman}
\institute{\emph{Institut des politiques publiques}}
\subject{PSE - microsimulation}

\date{Expériences et perspectives de la micro-simulation \\Montreuil -- 23 mai 2013}

\begin{document}

\frame{\maketitle}


\section{Introduction}

\begin{frame}
  \hligne
  \frametitle{Introduction}
  \framesubtitle{\vspace{0.3cm} Pourquoi faire des simulations sur le cycle de vie ?}
  \begin{itemize}
    \item  mesure d'un \og meilleur \fg \ niveau de vie
        \begin{itemize}
          \item Variabilité des revenus
          \item Équité dans le traitement des individus vis-à-vis de leur âge. 
          \item Prise en compte du patrimoine
        \end{itemize} \pause
    \item Possibilité d'arbitrer entre part assurantielle et part redistributive des transferts \pause
    \item Capacité de prédiction \pause
  \end{itemize}
\end{frame}


\section{I. Difficultés spécifiques à la microsimulation dynamique}

\begin{frame}
  \hligne
  \frametitle{I. Difficultés spécifiques à la microsimulation dynamique}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item[I.] Base de données
    \item[II.] Formation des unions
    \item[III.] Pondérations
    \item[IV.] Individualisation des transferts
    \item[V.] Le choix du pas temporel
    \item[VI.] Alignement
  \end{enumerate}
\end{frame}

\subsection{Base de données}
\begin{frame}
  \hligne
  \frametitle{I. Base de données}
  \begin{itemize}
    \item \textbf{Le problème : } Connaitre le passé précisément et avoir autant d'éléments que possible sur le futur.
    \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Utilisation de l'enquête patrimoine
      \item Enrichissement par un appariement avec l'EIR-EIC
      \item Fermeture de l'échantillon
      \item Utilisation de différentes études pour les équations de simulations
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Utiliser d'autres enquête comme SIP
    \item Améliorer les simulations (avec de la validation)
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Formation des unions}
\begin{frame}
  \hligne
  \frametitle{II. Formation des unions}
  \begin{itemize}
    \item \textbf{Le problème : } unir des individus en respectant les caractéristiques jointes.
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Distance entre conjoints (pas une préférence)
      \item Algorithme de minimisation
    \end{itemize}\pause
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Améliorer l'algorithme de minimisation (méthode hongroise)
    \item Faire un tirage aléatoire de conjoints potentiel et sélectionner parmi eux.
    \end{itemize}
  \end{itemize}
\end{frame}



\subsection{Pondérations}
\begin{frame}
  \hligne
  \frametitle{III. Pondérations}
  \begin{itemize}
    \item \textbf{Le problème : } En simulation dynamique, les liens entre individus changent. Comment relier deux individus de pondérations différentes ?
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Travail avec une pondération uniforme
      \item Duplication des individus selon leur pondération 
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item La plus petite pondération de l'enquête patrimoine est 6 ! \\
    $\rightarrow$ 11 millions d'individus
    \item  200 comme pondération uniforme et non 6  \\
    $\rightarrow$ 11 millions d'individus \\
    \item Augmenter la taille de l'échantillon
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Individualisation des transferts}
\begin{frame}
  \hligne
  \frametitle{IV. Individualisation des transferts}
  \begin{itemize}
    \item \textbf{Le problème : } L'unité d'étude ne peut plus être un ménage ou un foyer fiscal mais seulement un individu. Comment individualiser les transferts ?
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Pour l'instant méthode ad-hoc :
      \item L'impot sur le revenu est séparé entre déclarant et conjoint...
      \item sauf l'avantage lié au quotient familial qui est réparti entre les personnes à charge.
      \item Les prestations familiales sont réparties entre les enfants
      \item Les autres prestations sont réparties entre les personnes du ménage.
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Séparer l'IR au prorata des revenus mais...
    \item ...la bonne solution c'est le recours à la valeur de Shapley.
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Le pas temporel}
\begin{frame}
  \hligne
  \frametitle{V. Le choix du pas temporel}
  \begin{itemize}
    \item \textbf{Le problème : } Un trade-off entre précision et temps de simulation.
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Pour l'instant : pas annuel
      \item Possibilité de ne faire tourner certains éléments qu'à certaines périodes
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Pas mensuel
    \item ...ou au moins trimestriel
    \item automatiser les paramètres en fonction du pas.
    \item Simuler des durées plutôt que des événements ? 
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Alignement}
\begin{frame}
  \hligne
  \frametitle{VI. Alignement}
  \begin{itemize}
    \item \textbf{Le problème : } Lors du tirage d'une variable binaire (décès par exmeple), on peut avoir une grand variance du nombre de valeur et donc avoir le "bon" nombre d'occurrences uniquement en moyenne.  \\
    Comment aligner les tirages ?
    \item \textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Utilisation d'une méthode implémentée dans Liam2 (voir Li et O'Donoghue 2012)
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Tester les différentes méthodes d'alignement.
    \end{itemize}
  \end{itemize}
\end{frame}


\section{II. Présentation du modèle}

\begin{frame}
  \hligne
  \frametitle{II. Présentation du modèle}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item Le langage de programmation
    \item Les entités et les liens.
    \item Les étapes de la simulation
  \end{enumerate}
\end{frame}
%
\subsection{Langage de programmation}

\begin{frame}
  \hligne
  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item Langages utilisés
    \begin{itemize}
    \item Traitement initial des données en R
    \item Utilisation principale de Python
    \item Interface en YAML
    \end{itemize} 
     \item \textbf{Pourquoi Python} ?\pause
    \begin{itemize}
    	\item Langage clair. 
    	\item Possibilité d'avoir plusieurs niveaux de lecture.
   		\item Gratuité
		\item Performances très intéressantes	
    \end{itemize} 
	\item Un choix fait par Liam2 et OpenFisca.
  \end{itemize}
\end{frame}


%\begin{frame}
%  \hligne
%  \frametitle{I. Langage de programmation}
%  \framesubtitle{\vspace{0.3cm}Organisation}
%	Mettre une image de YAML. 
%	Un exemple de code. 
%\end{frame}


\subsection{Les étapes de la simulation}
\subsubsection{Démographie}

\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - démographie}
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
  	\item Naissance \\
  	\begin{itemize}
  	\item Femme en couple, alignement sur des naissances par âge.
  	\item Pas de lien avec les études, ni les enfants précédents
  	\end{itemize}
  	\item Indépendance
  	\begin{itemize}
  	\item Systématique en fonction de l'âge.
  	\item Pas d'autre type de déménagement
  	\end{itemize} 
  \end{itemize} 
\end{frame}
  	
  	
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - démographie}
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
  	\item Unions \\
  	\begin{itemize}
  	\item Inspirées des équations de Destinie
  	\item Probabilité d'union en fonction de l'âge, de la fin des études, de la date depuis la séparation et du nombre d'enfant
  	\item Formation des unions en fonction des âges et du niveau d'études
  	\item Les enfants suivent leur parent (pour le logement ou la déclaration)
  	\end{itemize}
  	\item Séparations
  	\begin{itemize}
  	\item Probabilité en fonction de la durée du couple, du nombre d'enfant et de la différence d'âge. 
  	\item Les enfants sur la déclaration du père et dans le ménage de la mère.
  	\end{itemize}
  \end{itemize} 
\end{frame}


\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - démographie}
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
  	\item Décès \\
  	\begin{itemize}
  	\item Alignement en fonction de l'âge et du sexe
  	\item Pas de prise en compte des revenus ou du diplôme.
  	\item Héritage (y compris de deuxième rang)
  	\item Droit de succession (en cours)
  	\item Pas d'accident de voiture...
  	\end{itemize}
  \end{itemize} 
\end{frame}
  
\subsubsection{Activité}
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - activité }
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
	\item Éducation
  	\begin{itemize}
  	\item Détermination à la naissance en fonction des parents.
  	\item Niveau (rudimentaire) lié à l'âge
  	\end{itemize}
  	\item Marché du travail
  	\begin{itemize}
  	\item Équation simplifiée et alignement grossier
  	\item Salaire en fonction d'une équation de Mincer... 
  	\item ... et d'une productivité plus ou moins observée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite 
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire  
	\item Utilisation de PENSIPP pour cette partie (?)
  	\end{itemize}
  	\item Chômage 
  	\begin{itemize}
  	\item Calcul implémenté...
  	\item ...mais la simulation annuelle limite  
  	\end{itemize}
  \end{itemize} 
\end{frame}  
  
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - Revenus }
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
  	\item Actifs occupés
  	\begin{itemize}
  	\item Salaire en fonction d'une équation de Mincer... 
  	\item ... et d'une productivité plus ou moins observée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite 
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire  
	\item Utilisation de PENSIPP pour cette partie (?)
  	\end{itemize}
  	\item Chômage 
  	\begin{itemize}
  	\item Calcul implémenté...
  	\item ...mais la simulation annuelle limite  
  	\end{itemize}
  \end{itemize} 
\end{frame}    
  
 
\subsubsection{Consommation et épargne}
\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation - activité }
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
	\item Éducation
  	\begin{itemize}
  	\item Détermination à la naissance en fonction des parents.
  	\item Niveau (rudimentaire) lié à l'âge
  	\end{itemize}
  	\item Marché du travail
  	\begin{itemize}
  	\item Équation simplifiée et alignement grossier
  	\item Salaire en fonction d'une équation de Mincer... 
  	\item ... et d'une productivité plus ou moins observée
  	\item Pas de temps partiel
  	\end{itemize}
  	\item Retraite 
  	\begin{itemize}
  	\item Départ systématique en fonction de l'âge
  	\item Niveau de retraite à partir du dernier salaire  
	\item Utilisation de PENSIPP pour cette partie (?)
  	\end{itemize}
  	\item Chômage 
  	\begin{itemize}
  	\item Calcul implémenté...
  	\item ...mais la simulation annuelle limite  
  	\end{itemize}
  \end{itemize} 
\end{frame}  

    	
    	
  	\item consommation, épargne
  	\item union
  		\item suivi


  	\item encore beaucoup à faire dans chaque domaine.
  	+ santé, mode de garde, choix d'éducation, consommation. Dépendera des demandes
  \end{itemize}
  La législation
  \begin{itemize}
  \item Le chômage est calculé directement au cours de la simulation
  \item Pour les autres transferts, on utilise OpenFisca.
  \end{itemize}	



\section{III. Production actuelle et potentielle}

\begin{frame}
  \hligne
  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item Conditions de 2009 pour le marché du travail. 
 	N'est pas sans poser problème pour l'alignement (si on pense au naissance par exemple).
  \item Ne simule pas encore les informations manquantes dans le passé.
   
   \item  une réforme. 
   		\item impact
   		\item Réaction à l'étape d'après ? 
   		\item Modèle décisionnel.
   		
    \item Tourne en ... de temps dont ... pour la législation sur 30 000 individus
    \item Tourne en ... de temps dont ... pour la législation sur 300 000 individus
  \end{itemize}
\end{frame}




\begin{frame}
  \hligne
  \frametitle{Quelques chiffres}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item Le revenu moyen par an par individu est : 
  \item Le niveau de vie en moyenne sur la vie calculé par l'Insee est : 
   
   \item En regardant au niveau des enfants, on gagne tant...
   \item En moyenne tant d'impot et tant de prestation
   \item La retraite.
   
  \end{itemize}
\end{frame}




\subsection{Reforms}

\begin{frame}
  \hligne
  \frametitle{II. Model}
  \framesubtitle{\vspace{0.3cm}Simulating reforms}\pause
  \begin{itemize}
    \item \textbf{Building a baseline}
    \begin{itemize}
      \item Assumption about growth rates
      \item Large implications in terms of tax revenues
    \end{itemize}\pause
    \item \textbf{No behavioural case}
    \begin{itemize}
      \item Apply the change in tax system
      \item Make comparative statistics
    \end{itemize}\pause
    \item \textbf{With behavioural response}
    \begin{itemize}
      \item Imbed an elasticity of the tax base to a change in tax rate
      \item Currently only done ad hoc for labour supply
    \end{itemize}
  \end{itemize}
\end{frame}



\frame{\maketitle}

\end{document}
