\documentclass[xcolor=table,ignorenonframetext,12pt]{beamer}
%\documentclass[xcolor=table,handout,12pt]{beamer}
\usepackage[frenchb]{babel}
\usepackage[latin1]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{pgfarrows,pgfnodes}
\usepackage{url}
\usepackage{textcomp}
\usepackage[vcentermath]{youngtab}
\usepackage{epstopdf}
\usepackage{hhline}
\usepackage{xmpmulti}
\usepackage{subfigure}
\usepackage{tikz}

\mode<article> {
  \usepackage{fullpage}
  \usepackage{pgf}
  \usepackage{hyperref}
}
\newcommand{\til}{TaxIPP-Life}

\mode<presentation>

\usetheme[left]{Goettingen}
%\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth]{ippheader.pdf}}
%\setbeamertemplate{background canvas}{\hspace{10.1cm}\includegraphics
%    [width=0.2\paperwidth]{logo_ipp.pdf}}
\definecolor{ippdark}{RGB}{0,93,116}
\definecolor{ipplight}{RGB}{0,142,156}
\useinnertheme[shadow=true]{rounded}
\setbeamertemplate{items}[circle]
\setbeamercolor{title}{bg=ipplight, fg=black}
\setbeamercolor{structure}{fg=ipplight}
%\setbeamertemplate{sidebar canvas left}{} % pour supprimer le fond de couleur de la barre latérale	
\setbeamertemplate{sidebar canvas left}[vertical shading][top=structure.fg!20,bottom=structure.fg!15]
\setbeamertemplate{caption}[numbered]
\setlength{\leftmargini}{12pt}
\setbeamerfont{framesubtitle}{size=\large}

%\usepackage[latin1]{inputenc}
%\usepackage[english]{babel}

\newenvironment{checklist}[1]{\begin{list}{$\surd$}{}#1}{\end{list}}%
\newcommand{\graphique}[2][1]{\begin{minipage}{\linewidth}\begin{center}\includegraphics[width=#1\linewidth,clip]{#2}\end{center}\end{minipage}}%
\newcommand{\os}[2]{\onslide+<#1->{#2}}%

\newcommand{\m}[2]{\multicolumn{#1}{c}{#2}}%
\newcommand{\ml}[2]{\multicolumn{#1}{l}{#2}}%
\newcommand{\tth}{\textsuperscript{th}}%
\newcommand{\nde}{\textsuperscript{nde}}
\newcommand{\hligne}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}\vspace{-0.8cm}}
\newcommand{\hlignee}{\begin{tikzpicture}[remember picture,overlay]\node[shift={(-10.5 cm,-1.2cm)}]at(current page.north east){\begin{tikzpicture}{\draw[line width=0.2mm,color=ipplight,overlay](0,0)--(8,0);}\end{tikzpicture}};\end{tikzpicture}}

% MTABLE: macro for tables %
\newenvironment{mfigure}[4][1]{\def\TMP{#3}\newdimen\TMPsize\settowidth{\TMPsize}{\TMP}
\begin{figure}\caption{#2}\begin{center}\begin{tiny}
\begin{minipage}{#1\textwidth}\resizebox{\textwidth}{!}{#3}\end{minipage}
\if!#4!\empty \else \\
\resizebox{#1\textwidth}{!}{\begin{minipage}{\TMPsize}\begin{tiny}\smallskip\par
#4 \end{tiny}\end{minipage}} \fi}
{\end{tiny}\end{center}\end{figure}}

\makeatletter
\def\TAXIPP{TAX\kern-.05em\lower-.19ex\hbox{${\color{BlueGreen} \scalebox{1.4}{\underarc[1]{\overarc[1]{\textcolor{black}{\scalebox{0.7}{ipp}}}}}}\hspace{0.5ex}$}\@}
\makeatother

\title{Simuler le cycle de vie\\ Le modèle \til}
\author{Alexis Eidelman}
\institute{\emph{Institut des politiques publiques}}
\subject{PSE - microsimulation}

\date{Expériences et perspectives de la micro-simulation \\Montreuil -- 23 mai 2013}

\begin{document}

\frame{\maketitle}


\section{Introduction}

\begin{frame}
  \hligne
  \frametitle{Introduction}
  \framesubtitle{\vspace{0.3cm} Pourquoi faire des simulations sur le cycle de vie ?}
  \begin{itemize}
    \item  mesure d'un \og meilleur \fg \ niveau de vie
        \begin{itemize}
          \item Variabilité des revenus
          \item Équité dans le traitement des individus vis-à-vis de leur âge. 
          \item Prise en compte du patrimoine
        \end{itemize} \pause
    \item Possibilité d'arbitrer entre part assurantielle et part redistributive des transferts \pause
    \item Capacité de prédiction \pause
    \item ...et bien d'autres \pause
  \end{itemize}
\end{frame}


\section{I. Difficultés spécifiques à la microsimulation dynamique}

\begin{frame}
  \hligne
  \frametitle{I. Difficultés spécifiques à la microsimulation dynamique}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item[I.] Base de données
    \item[II.] Formation des unions
    \item[III.] Pondérations
    \item[IV.] Individualisation des transferts
    \item[V.] Le choix du pas temporel
  \end{enumerate}
\end{frame}

\subsection{Base de données}
\begin{frame}
  \hligne
  \frametitle{I. Base de données}
  \begin{itemize}
    \item \textbf{Le problème : } Connaitre le passé précisément et avoir autant d'éléments que possible sur le futur.
    \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Utilisation de l'enquête patrimoine
      \item Enrichissement par un appariement avec l'EIR-EIC
      \item Fermeture de l'échantillon
      \item Utilisation de différentes études pour les équations de simulations
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Utiliser d'autres enquête comme SIP
    \item Améliorer les simulations (avec de la validation)
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Formation des unions}
\begin{frame}
  \hligne
  \frametitle{II. Formation des unions}
  \begin{itemize}
    \item \textbf{Le problème : } unir des individus en respectant les caractéristiques jointes.
    \item \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Distance entre conjoints (pas une préférence)
      \item Algorithme de minimisation
    \end{itemize}\pause
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Améliorer l'algorithme de minimisation (méthode hongroise)
    \item Faire un tirage aléatoire de conjoints potentiel et sélectionner parmi eux.
    \end{itemize}
  \end{itemize}
\end{frame}



\subsection{Pondérations}
\begin{frame}
  \hligne
  \frametitle{III. Pondérations}
  \begin{itemize}
    \item \textbf{Le problème : } En simulation dynamique, les liens entre individus changent. Comment relier deux individus de pondérations différentes ?
    \item \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Travail avec une pondération uniforme
      \item Duplication des individus selon leur pondération 
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item La plus petite pondération de l'enquête patrimoine est 6 ! \\
    $\rightarrow$ 11 millions d'individus
    \item  200 comme pondération uniforme et non 6  \\
    $\rightarrow$ 11 millions d'individus \\
    \item Augmenter la taille de l'échantillon
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Individualisation des transferts}
\begin{frame}
  \hligne
  \frametitle{IV. Individualisation des transferts}
  \begin{itemize}
    \item \textbf{Le problème : } L'unité d'étude ne peut plus être un ménage ou un foyer fiscal mais seulement un individu. Comment individualiser les transferts ?
    \item \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Pour l'instant méthode ad-hoc :
      \item L'impot sur le revenu est séparé entre déclarant et conjoint...
      \item sauf l'avantage lié au quotient familial qui est réparti entre les personnes à charge.
      \item Les prestations familiales sont réparties entre les enfants
      \item Les autres prestations sont réparties entre les personnes du ménage.
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Séparer l'IR au prorata des revenus mais...
    \item ...la bonne solution c'est le recours à la valeur de Shapley.
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Le pas temporel}
\begin{frame}
  \hligne
  \frametitle{V. Le choix du pas temporel}
  \begin{itemize}
    \item \textbf{Le problème : } Un trade-off entre précision et temps de simulation.
    \item \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Pour l'instant : pas annuel
      \item Possibilité de ne faire tourner certains éléments qu'à certaines périodes
      \item Les prestations familiales sont réparties entre les enfants
      \item Les autres prestations sont réparties entre les personnes du ménage.
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Pas mensuel
    \item ...ou au moins trimestriel
    \item automatiser les paramètres en fonction du pas.
    \item Simuler des durées plutôt que des événements ? 
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Alignement}
\begin{frame}
  \hligne
  \frametitle{VI. Alignement}
  \begin{itemize}
    \item \textbf{Le problème : } Lors du tirage d'une variable binaire (décès par exmeple), on peut avoir une grand variance du nombre de valeur et donc avoir le "bon" nombre d'occurrences uniquement en moyenne.  \\
    Comment aligner les tirages.
    \item \item\textbf{ La réponse de \til \ :}  \pause
    \begin{itemize}
      \item Utilisation d'une méthode implémentée dans Liam2 (voir Li et O'Donoghue 2012)
    \end{itemize}
    \item Ce qu'on pourrait faire de mieux. 
    \begin{itemize}
    \item Tester les différentes méthodes d'alignement.
    \end{itemize}
  \end{itemize}
\end{frame}


\section{II. Présentation du modèle}

\begin{frame}
  \hligne
  \frametitle{II. Présentation du modèle}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item Le langage de programmation
    \item Les entités et les liens.
    \item Les étapes de la simulation
  \end{enumerate}
\end{frame}
%
\subsection{Langage de programmation}

\begin{frame}
  \hligne
  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item 
    \begin{itemize}
    \item Traitement initial des données en R
    \item Utilisation principale de Python
    \item Interface en YAML
    \end{itemize} 
     \item \textbf{Pourquoi Python} ?\pause
    \begin{itemize}
    	\item Langage clair. 
    	\item Possibilité d'avoir plusieurs niveaux de lecture.
   		\item Gratuité
		\item Performances très intéressantes	
    \end{itemize} 
	\item Un choix fait par Liam2 et OpenFisca.
  \end{itemize}
\end{frame}


\begin{frame}
  \hligne
  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
	Mettre une image de YAML. 
	Un exemple de code. 
\end{frame}


\subsection{Les étapes de la simulation}

\begin{frame}
  \hligne
  \frametitle{III. Les étapes de la simulation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  La simulations
  \begin{itemize}
  	\item naissance
  	\item éducation
  	\item indépendance
  	\item marché du travail
  	\item consommation, épargne
  	\item union
  		\item suivi
  	\item divorce
  		\item devenir des enfants
  	\item décès
  		\item héritage
  	\item encore beaucoup à faire dans chaque domaine.
  	+ santé, mode de garde, choix d'éducation, consommation. Dépendera des demandes
  \end{itemize}
  La législation
  \begin{itemize}
  \item Le chômage est calculé directement au cours de la simulation
  \item Pour les autres transferts, on utilise OpenFisca.
  \end{itemize}	
\end{frame}


\section{Production actuelle et potentielle}

\begin{frame}
  \hligne
  \frametitle{I. Langage de programmation}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item Conditions de 2009 pour le marché du travail. 
 	N'est pas sans poser problème pour l'alignement (si on pense au naissance par exemple).
  \item Ne simule pas encore les informations manquantes dans le passé.
   
   \item  une réforme. 
   		\item impact
   		\item Réaction à l'étape d'après ? 
   		\item Modèle décisionnel.
   		
    \item Tourne en ... de temps dont ... pour la législation sur 30 000 individus
    \item Tourne en ... de temps dont ... pour la législation sur 300 000 individus
  \end{itemize}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{Quelques chiffres}
  \framesubtitle{\vspace{0.3cm}Organisation}
  \begin{itemize}
  \item Le revenu moyen par an par individu est : 
  \item Le niveau de vie en moyenne sur la vie calculé par l'Insee est : 
   
   \item En regardant au niveau des enfants, on gagne tant...
   \item En moyenne tant d'impot et tant de prestation
   \item La retraite.
   
  \end{itemize}
\end{frame}

    \item \textbf{Employer social security contributions (SSC)}
    \begin{itemize}
      \item Debate on whether incident on consumers (higher prices) or employees (lower wages)
      \item Obvious long vs short term incidence
      \item TAXIPP: incidence on employees
      \item It has consequences for analysing policy of reduction of SSC on low earners.
    \end{itemize} \pause
    \item \textbf{Indirect taxes}
    \begin{itemize}
    \item Usual analysis lead to most indirect taxes are paid by consumers
    \item Detailed analysis (Carbonnier 2007, 2009) suggest part is paid by factors
    \item TAXIPP: 70\% on prices, 30\% on factors (labour and capital)
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{II. Model}
  \framesubtitle{\vspace{0.3cm}Incidence assumptions in TAXIPP}
  \begin{itemize}
    \item \textbf{Corporate income tax}
    \begin{itemize}
      \item Standard view: CT paid by shareholders
      \item Modern finance view: likely to be paid by capital owners at large
      \item Some studies suggest that CT is paid mostly by consumers
      \item TAXIPP: incidence on capital owners except regulated interest accounts
      \item Huge implications in terms of redistribution analysis!
    \end{itemize} \pause
    \item \textbf{Undistributed corporate profits}
    \begin{itemize}
      \item Undistributed profits are part of national income
      \item CT is imposed on them
      \item Problem: who receive this income ?
      \item Shareholders are the likely recipients
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{II. Model}
  \framesubtitle{\vspace{0.3cm}Incidence assumptions in TAXIPP}
  \begin{itemize}
    \item \textbf{Payroll tax ``taxe sur les salaires'' (TS)}
    \begin{itemize}
      \item TS is a progressive payroll tax on earnings for firms in non VAT sectors (finance, insurance, education, etc.)
      \item Incidence is not obvious; no empirical studies
      \item Two options: incidence on consumers or on employees
      \item TAXIPP: incidence on employees
      \item But likely to be wrong
    \end{itemize}
  \end{itemize}
\end{frame}


\subsection{Reforms}

\begin{frame}
  \hligne
  \frametitle{II. Model}
  \framesubtitle{\vspace{0.3cm}Simulating reforms}\pause
  \begin{itemize}
    \item \textbf{Building a baseline}
    \begin{itemize}
      \item Assumption about growth rates
      \item Large implications in terms of tax revenues
    \end{itemize}\pause
    \item \textbf{No behavioural case}
    \begin{itemize}
      \item Apply the change in tax system
      \item Make comparative statistics
    \end{itemize}\pause
    \item \textbf{With behavioural response}
    \begin{itemize}
      \item Imbed an elasticity of the tax base to a change in tax rate
      \item Currently only done ad hoc for labour supply
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{II. Model}
  \framesubtitle{\vspace{0.3cm}Issues}\pause
  \begin{itemize}
    \item \textbf{Interactions between tax bases}
    \begin{itemize}
      \item Tax bases of one tax depends on other changes
      \item e.g. increase in SSC $\Rightarrow$ lower taxable income \\
      $\Rightarrow$ lower income tax
    \end{itemize} \pause
    \item \textbf{Inconsistency}
    \begin{itemize}
      \item No behavioural response is inconsistent
      \item e.g. increase in income tax $\Rightarrow$ lower consumption or/and lower savings \\
      $\Rightarrow$ lower VAT or/and lower capital taxation
    \end{itemize}
  \end{itemize}
\end{frame}

\section{III. Measuring redistribution}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}}
  \begin{enumerate}
    \item Measuring contributive capacity
    \item Household vs individual
    \item Life cycle issues
    \item Representation issues
  \end{enumerate}
\end{frame}

\subsection{Contributive capacity}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Measuring contributive capacity}\pause
  \begin{itemize}
    \item \textbf{Types of income}
    \begin{itemize}
      \item Net incomes are not a good measure
      \item Economic income: income before all taxes
      \item Need to add all taxes to net income including imputed indirect taxes
    \end{itemize}\pause
        \item \textbf{Primary vs secondary income}
    \begin{itemize}
      \item Primary income: income before transfer and taxes
      \item Secondary income: income before all taxes but including transfer income (pensions, unemployment) but net of SSC funding these transfers
      \item Primary income $\simeq$ national income
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Measuring contributive capacity}\pause
  \begin{itemize}
    \item \textbf{Income vs consumption}
    \begin{itemize}
      \item Income might not be a good measure of permanent income
      \item Temporary variations in income are frequent\\
      e.g. unemployment: primary income drops to zero
      \item Consumption might be a better measure of permanent income
      \item Except that consumption does not capture systematic difference in savings over the life-cycle
    \end{itemize}\pause
    \item \textbf{Income vs wealth}
    \begin{itemize}
    \item Income and wealth are not completely correlated
    \end{itemize}\pause
    \item \textbf{Philosophical backgrounds}
    \begin{itemize}
    \item Social welfare functions depend on utilities
    \item Is utility derived from income, consumption, wealth...
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Household vs individual}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Household vs individual}\pause
  \begin{itemize}
    \item \textbf{What unit of reference?}
    \begin{itemize}
      \item Individuals: income
      \item Household: income is totally pooled among household members
      \item Partly a philosophical choice
    \end{itemize}\pause
        \item \textbf{How to account for household size?}
    \begin{itemize}
      \item Assessment of needs represented by each member
      \item OECD equivalence scale
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Life cycle issues}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Life cycle issues}\pause
  \begin{itemize}
    \item \textbf{Cross-section is misleading}
    \begin{itemize}
      \item Data source essentially cross-section
      \item Redistribution analysis is misleading
    \end{itemize}\pause
    \item \textbf{Life-cycle issues}
    \begin{itemize}
    \item Redistribution through contributory pensions/unemployment
    \item Age earnings profile explains part of the earnings inequality
    \end{itemize}\pause
    \item \textbf{Income variability}
    \begin{itemize}
    \item Income shocks from one year to the other
    \item Bottom of the distribution: the ``poor'' are the unemployed or people at the minimum wage?
    \end{itemize}
  \end{itemize}
\end{frame}

\subsection{Representation issues}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Representation issues}\pause
  \begin{itemize}
    \item \textbf{Choice of redistributive capacity}
    \begin{itemize}
      \item Current income
      \item Measure of permanent income
      \item Consumption
    \end{itemize}\pause
    \item \textbf{Choice of unit of reference}
    \begin{itemize}
    \item Individuals, households, consumption unit
    \end{itemize}\pause
    \item \textbf{Scale of the distribution}
    \begin{itemize}
    \item Quintile, decile, percentile
    \item Absolute values
    \end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Representation issues}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Representation issues}
\end{frame}

\begin{frame}
  \hligne
  \frametitle{III. Measuring redistribution}
  \framesubtitle{\vspace{0.3cm}Representation issues}
\frametitle{Taux de prélèvements obligatoires}

\end{frame}

\section{IV. Future developments}

\begin{frame}
  \hligne
  \frametitle{IV. Future developments}
  \begin{itemize}
      \item \textbf{Part of larger set of models in development}
      \begin{itemize}
        \item PENSIPP: dynamic microsimulation model of the French pension system
        \item TAXIPP-LIFE: over the life-cycle
      \end{itemize}
    \item \textbf{Development of data sources}
    \begin{itemize}
      \item Setting-up data from different years
      \item Developing matching procedures for other sources
    \end{itemize} \pause
    \item \textbf{Simulating past tax systems}
    \begin{itemize}
      \item Going back to the 1970s...
    \end{itemize} \pause
     \item \textbf{Developing the behavioural module}
    \begin{itemize}
      \item More systematic module of behavioural responses
      \item Including substitution responses and real responses
    \end{itemize} \pause
      \item \textbf{Developing other modules}
    \begin{itemize}
      \item Firm side
      \item Public spending
      \item TAXIPP-LIFE
    \end{itemize} \pause
     \item Translating into R or Python?
  \end{itemize}
\end{frame}

\frame{\maketitle}

\end{document}
